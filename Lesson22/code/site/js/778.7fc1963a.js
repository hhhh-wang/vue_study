"use strict";(self["webpackChunkfirst"]=self["webpackChunkfirst"]||[]).push([[778],{3778:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var o=function(){var e=this,s=e._self._c;return s("div",{staticClass:"register"},[s("h3",[e._v("注册新用户 "),s("span",{staticClass:"go"},[e._v("我有账号，去 "),s("router-link",{attrs:{to:"/login"}},[e._v("登录")])],1)]),s("div",{staticClass:"content"},[s("label",[e._v("手机号:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入你的手机号"},domProps:{value:e.phone},on:{input:function(s){s.target.composing||(e.phone=s.target.value)}}}),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"content"},[s("label",[e._v("验证码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(s){s.target.composing||(e.code=s.target.value)}}}),s("button",{staticClass:"getcode",on:{click:e.sendCode}},[e._v("获取验证码")]),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"content"},[s("label",[e._v("登录密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",placeholder:"请输入你的登录密码"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"content"},[s("label",[e._v("确认密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.rePassword,expression:"rePassword"}],attrs:{type:"text",placeholder:"请输入确认密码"},domProps:{value:e.rePassword},on:{input:function(s){s.target.composing||(e.rePassword=s.target.value)}}}),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isAllow,expression:"isAllow"}],attrs:{name:"m1",type:"checkbox"},domProps:{checked:Array.isArray(e.isAllow)?e._i(e.isAllow,null)>-1:e.isAllow},on:{change:function(s){var t=e.isAllow,o=s.target,r=!!o.checked;if(Array.isArray(t)){var a=null,i=e._i(t,a);o.checked?i<0&&(e.isAllow=t.concat([a])):i>-1&&(e.isAllow=t.slice(0,i).concat(t.slice(i+1)))}else e.isAllow=r}}}),s("span",[e._v("同意协议并注册《尚品汇用户协议》")]),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"btn"},[s("button",{on:{click:e.goRegister}},[e._v("完成注册")])])])},r=[],a=(t(6031),t(777)),i={name:"Register",data(){return{phone:"",code:"",password:"",rePassword:"",isAllow:!1}},methods:{async sendCode(){a.$v.test(this.phone)?this.code=await this.$store.dispatch("user/getSendCodeAsync",this.phone):this.$message.error("请输入正确的手机号!")},async goRegister(){if(!a.$v.test(this.phone))return void this.$message.error("请输入正确的手机号");if(this.code.length<1)return void this.$message.error("请输入验证码");if(this.password.length<1)return void this.$message.error("请输入密码]");if(this.password!==this.rePassword)return void this.$message.error("两次密码不一致!");if(!this.isAllow)return void this.$message.error("您还未同意协议!");const{phone:e,password:s,code:t}=this,o=await this.$store.dispatch("user/postRegisterAsync",{phone:e,password:s,code:t});200===o.code?(console.log(o),this.$router.push("/login")):this.$message.error(o.message)}}},n=i,l=t(5440),c=(0,l.Z)(n,o,r,!1,null,"038eb0a0",null),d=c.exports}}]);
//# sourceMappingURL=778.7fc1963a.js.map